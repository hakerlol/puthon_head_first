from odd.artifact import Addon, DataFile
from odd.plugin import Plugin


class DataFileEmitter(Plugin):
    _handles = {"addon"}
    _emits = {"data_file"}

    def on_addon(self, addon: Addon):
        # TODO: Yield `Issue` if data file does not exist.
        for path in addon.data_files:
            yield DataFile(addon, path)
