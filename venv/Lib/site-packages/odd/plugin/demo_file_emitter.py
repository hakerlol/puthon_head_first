from odd.artifact import Addon, DemoFile
from odd.plugin import Plugin


class DemoFileEmitter(Plugin):
    _handles = {"addon"}
    _emits = {"demo_file"}

    def on_addon(self, addon: Addon):
        # TODO: Yield `Issue` if demo file does not exist.
        for path in addon.demo_files:
            yield DemoFile(addon, path)
